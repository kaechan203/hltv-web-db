{% extends "base.html" %}
{% block title %}创建比赛 - 步骤3{% endblock %}
{% block content %}
    <div class="progress mb-4">
        <div class="progress-bar" role="progressbar" style="width: 100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">步骤 3/3</div>
    </div>
    <h1>创建新比赛 - 步骤 3：录入选手数据</h1>
    <div class="btn-group mb-4" role="group">
        <a href="{{ url_for('match_create_step2') }}" class="btn btn-secondary">上一步</a>
        <a href="{{ url_for('matches_manage') }}" class="btn btn-secondary">取消</a>
    </div>

    <div class="card">
        <div class="card-body">
            <form method="POST">
                <div class="table-responsive">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>选手</th>
                                <th>K</th>
                                <th>D</th>
                                <th>A</th>
                                <th>HS</th>
                                <th>ADR</th>
                                <th>Rating</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for player in players %}
                            <tr>
                                <td>{{ player.pname }}</td>
                                <td><input type="number" class="form-control" name="kill_{{ player.pid }}" value="0" min="0" required></td>
                                <td><input type="number" class="form-control" name="death_{{ player.pid }}" value="0" min="0" required></td>
                                <td><input type="number" class="form-control" name="assist_{{ player.pid }}" value="0" min="0" required></td>
                                <td><input type="number" class="form-control" name="headshot_{{ player.pid }}" value="0" min="0" required></td>
                                <td><input type="number" step="0.01" class="form-control" name="adr_{{ player.pid }}" value="0.00" min="0" required></td>
                                <td><input type="number" step="0.01" class="form-control" name="rating_{{ player.pid }}" value="1.00" min="0" required></td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                <button type="submit" class="btn btn-success">提交比赛数据</button>
            </form>
        </div>
    </div>
{% endblock %}